## JS 온라인 컴파일러 – Rooms + 문제 관리 시스템 

이 프로젝트는 브라우저 기반 JavaScript 플레이그라운드로, Room 기능과 알고리즘 문제 생성을 위한 관리자 워크플로우를 제공합니다. 각 Room은 다음을 포함할 수 있습니다:

- 메타데이터 (이름, 그룹, 작성자)
- 문제 정의 (제목, 설명, 난이도, 함수명, 시작 코드)
- 솔루션 검증을 위한 테스트 케이스

사용자는 브라우저에서 코드를 작성하고 로컬에서 실행할 수 있습니다. 또한 서버에 제출되어 Node.js 샌드박스에서 실행되는 테스트를 실행할 수 있습니다.

### 로컬 실행 방법

필수 요구사항: Node.js

1. 의존성 설치
   - `npm install`
2. Gemini API 설정 (AI 힌트 기능을 위해)
   - [Google AI Studio](https://ai.google.dev/)에서 API 키를 받으세요
   - 프로젝트 루트에 `.env` 파일을 생성하세요
   - 다음을 추가하세요: `GEMINI_API_KEY=your_actual_api_key_here`
3. 클라이언트와 서버 동시 실행
   - `npm run dev`

기본적으로 서버는 http://localhost:4000에서, 클라이언트는 http://localhost:5173에서 실행됩니다.

### AI 힌트 기능

이 프로젝트는 Google의 Gemini API를 사용한 AI 기반 힌트 시스템을 포함합니다:

- 문제에서 "💡 Get AI Hint" 버튼을 클릭하여 지능형 가이드를 받으세요
- AI가 문제 설명과 현재 코드를 분석합니다
- 완전한 정답을 알려주지 않으면서 유용한 힌트를 제공합니다
- `.env` 파일에 `GEMINI_API_KEY`가 필요합니다

**설정 방법:**
1. [Google AI Studio](https://ai.google.dev/) 방문
2. Google 계정으로 로그인
3. "Get API Key"를 클릭하고 새 키 생성
4. `.env` 파일에 키를 복사

### 관리자 설정

- 시스템은 두 가지 사용자 역할을 지원합니다: **교수** 및 **학생**
- **기본 교수 계정:**
  - 이메일: `owner@owner`
  - 비밀번호: `owner`
  - 이 계정은 교수 권한으로 자동 생성됩니다
  
- **교수 권한:**
  1. 새로운 Room(그룹) 생성 가능
  2. 학생을 Room에 초대 가능
  3. Room 내에서 문제 생성 가능
  4. 자신의 Room에 대한 완전한 제어권

- **학생 권한:**
  1. 초대받은 Room에 참여 가능
  2. 문제를 보고 해결 가능
  3. Room이나 문제 생성 불가

- 또는 서버 시작 시 환경 변수 `ADMIN_EMAILS`(쉼표로 구분된 이메일)를 설정할 수 있습니다. 해당 계정은 관리자로 처리됩니다.
  - 예시 (PowerShell):
    - `$env:ADMIN_EMAILS="admin@example.com,test@test"; npm run dev`

### 교수 기능 사용하기

1. **교수로 로그인:**
   - `owner@owner` / `owner`를 사용하거나 이 이메일로 계정 생성
   
2. **Room 생성:**
   - Rooms 페이지에서 "CREATE" 버튼 클릭 (교수에게만 표시됨)
   - Room 세부 정보 입력 (이름, 그룹, 작성자 등)

3. **멤버 초대:**
   - 생성한 Room 열기
   - "멤버 초대" 버튼 클릭
   - 드롭다운에서 학생 선택
   - 학생이 이제 Room과 문제에 접근할 수 있습니다

4. **문제 생성:**
   - Room 내에서 "CREATE PROBLEM" 클릭
   - 제목, 설명, 테스트 케이스 등으로 문제 정의

### 문제 규약 (JavaScript)

- 문제는 `functionName`을 지정해야 합니다 (기본값 `solve`). 사용자의 코드는 이 함수를 정의해야 합니다.
- 테스트는 `input`과 `output`을 가진 객체 배열입니다. `input`은 단일 값이거나 배열(함수 위치 인수에 매핑됨)일 수 있습니다. 서버는 다음을 실행합니다:
  - `result = solve(...inputArray)` 그리고 깊은 JSON 동등성을 사용하여 `output`과 비교합니다.

### 참고사항

- 이것은 교육/데모 프로젝트입니다. 서버 샌드박스는 Node의 `vm` 모듈을 사용하며 프로덕션에서 신뢰할 수 없는 코드를 위해 강화되지 않았습니다.
